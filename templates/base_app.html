{% load static %}
<!DOCTYPE html>
<html>
<head>
	<title>{% if title %} {{title}} {% else %} Muse Academy {% endif %}</title>

	<!-- BASE CSS -->
	{% include 'base_app_css.html' %}

	<!-- CUSTOM CSS -->
	{% block body_css %}
	{% endblock %}
</head>
<body>
	<!-- NAVBAR -->
	
	<nav class="navbar navbar-expand-md navbar-dark bg-dark">
		<a href="{% url 'app:index' %}">Index</a>  
		<div class="collapse navbar-collapse" id="navbarsExample04">
		  <ul class="navbar-nav mr-auto">
			<li class="nav-item"><a class="nav-link active" href="{% url 'app:courses' %}">List Course</a></li>
			{% if user.is_authenticated %}
			<li class="nav-item dropdown">
			  <a class="nav-link dropdown-toggle" href="#" id="dropdownuser" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">User</a>
			  <div class="dropdown-menu" aria-labelledby="dropdownuser">
				<a class="dropdown-item" href="{% url 'app:dashboard' %}">User Dash</a>  
				<a class="dropdown-item" href="{% url 'app:library' %}">Lib</a>  

				<a class="dropdown-item" href="{% url 'user:profile' %}">Profile</a>  
				<a class="dropdown-item" href="{% url 'user:password_change' %}">Ganti Password</a>
				<a class="dropdown-item" href="{% url 'user:password_reset' %}">Reset Password</a>
				<a class="dropdown-item" href="{% url 'app:library' %}">My Library</a>
				<a class="dropdown-item" href="{% url 'app:order' %}">Order</a>
				<a class="dropdown-item" href="{% url 'user:logout' %}">Logout</a>
			  </div>
			</li>
			{% else %}
			<li class="nav-item dropdown">
				<a class="nav-link dropdown-toggle" href="#" id="dropdownuser" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">User</a>
				<div class="dropdown-menu" aria-labelledby="dropdownuser">
				  <a class="dropdown-item" href="{% url 'user:login' %}">Login</a>  
				  <a class="dropdown-item" href="{% url 'user:register' %}">Register</a>  
				</div>
			  </li>
			{% endif %}
			
			<li class="nav-item dropdown">
				<a class="nav-link dropdown-toggle" href="#" id="dropdowntutor" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Tutor</a>
				<div class="dropdown-menu" aria-labelledby="dropdowntutor">
					{% if user.is_authenticated and user.is_mentor %}
						<a class="dropdown-item" href="{% url 'mentor:dashboard' %}">Mentor Dashboard</a>
						<a class="dropdown-item" href="{% url 'mentor:courses' %}">Mentor Courses</a>
						<a class="dropdown-item" href="{% url 'mentor:schedule' %}">Mentor Schedule</a>
						<a class="dropdown-item" href="{% url 'mentor:register' %}">Data Mentor</a>
					{% elif user.is_authenticated and not user.is_mentor %}
						<a class="dropdown-item" href="{% url 'mentor:register' %}">Daftar Mentor</a>
					{% endif %}
				</div>
			</li>

			{% if user.is_authenticated and user.is_staff %}
			<li class="nav-item dropdown">
				<a class="nav-link dropdown-toggle" href="#" id="dropdowntutor" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Management</a>
				<div class="dropdown-menu" aria-labelledby="dropdowntutor">
					<a class="dropdown-item" href="{% url 'management:dashboard' %}">Management Dashboard</a>
					<a class="dropdown-item" href="{% url 'management:courses' %}">Management Courses</a>
					<a class="dropdown-item" href="{% url 'management:mentor-management' %}">Management Mentor</a>
				</div>
			</li>
			{% endif %}
		  </ul>
		</div>
	</nav>
	
	<!-- MESSAGES -->
	{% if messages %}
	<ul class="messages">
		{% for message in messages %}
		<li {% if message.tags %} class="{{ message.tags }}"{% endif %}>
			{% if message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}Important: {% endif %}
			{{ message }}
		</li>
		{% endfor %}
	</ul>
	{% endif %}

	<!-- CONTENT -->
	<div class="container">
		{% block body_block %}
		{% endblock %}
	</div>	

	<!-- BASE JS -->
	{% include 'base_app_js.html' %}

	<!--CUSTOM JS -->
	{% block body_js %}
	{% endblock %}

</body>
</html>