{% load static %}
<!DOCTYPE html>
<html>
<head>
	<title>{% if title %} {{title}} {% else %} Muse Academy {% endif %}</title>
	<base href="/" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
	
	<!-- BASE CSS -->
	{% include 'base_app_css.html' %}

	<!-- CUSTOM CSS -->
	{% block body_css %}
	{% endblock %}
	
  </head>
<body>
	<div id="base">
		<!-- NAVBAR -->

		<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top shadow-sm">
			<div class="container">
			<a href="javascript:void(0)" class="navbar-toggler" data-trigger="#main_nav" v-if="!showSearchInput" @click="showSidebar = true">
				<i class="las la-bars"></i>
			</a>

			<a class="navbar-brand" href="{% url 'app:index' %}" v-if="!showSearchInput">
				<img src="{% static 'app/img/muse-academy-logo-long.png' %}" alt="" height="30"/>
			</a>

			<form class="my-1 ml-3" action="{% url 'app:courses' %}" method="get" :class="{show: showSearchInput}">
				<div class="input-group">
				<div class="input-group-prepend">
					<span class="input-group-text bg-light" id="search-addon">
					<i class="las la-search"></i>
					</span>
				</div>
				<input type="search" name="search" class="form-control bg-light" placeholder="Cari kursus, kategori, dan mentor" aria-describedby="seacrh-addon"/>
				</div>
				<a href="javascript:void(0)" class="ml-4 d-lg-none" @click="showSearchInput = false">
				<i class="las la-times"></i>
				</a>
			</form>

			<a href="javascript:void(0)" class="d-lg-none" @click="showSearchInput = true" v-if="!showSearchInput">
				<i class="las la-search"></i>
			</a>

			<div class="navbar-collapse" id="main_nav" :class="{show: showSidebar}">
				<div class="offcanvas-header my-3">
				<h5>Muse Academy</h5>
				<a href="javascript:void(0)" class="btn-close float-right" @click="showSidebar = false">
					<i class="las la-times"></i>
				</a>
				</div>
				<ul class="navbar-nav ml-auto">

					{% if user.is_authenticated %}
						<li class="nav-item dropdown">
						<a class="nav-link dropdown-toggle" href="#" id="dropdownuser" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">User</a>
						<div class="dropdown-menu" aria-labelledby="dropdownuser">
							<a class="dropdown-item" href="{% url 'app:dashboard' %}">User Dash</a>  
							<a class="dropdown-item" href="{% url 'app:library' %}">Lib</a>  
			
							<a class="dropdown-item" href="{% url 'user:profile' %}">Profile</a>  
							<a class="dropdown-item" href="{% url 'user:password_change' %}">Ganti Password</a>
							<a class="dropdown-item" href="{% url 'user:password_reset' %}">Reset Password</a>
							<a class="dropdown-item" href="{% url 'app:library' %}">My Library</a>
							<a class="dropdown-item" href="{% url 'app:order' %}">Order</a>
							<a class="dropdown-item" href="{% url 'user:logout' %}">Logout</a>
						</div>
						</li>
						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle" href="#" id="dropdowntutor" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Tutor</a>
							<div class="dropdown-menu" aria-labelledby="dropdowntutor">
								{% if user.is_authenticated and user.is_mentor %}
									<a class="dropdown-item" href="{% url 'mentor:dashboard' %}">Mentor Dashboard</a>
									<a class="dropdown-item" href="{% url 'mentor:courses' %}">Mentor Courses</a>
									<a class="dropdown-item" href="{% url 'mentor:schedule' %}">Mentor Schedule</a>
									<a class="dropdown-item" href="{% url 'mentor:register' %}">Data Mentor</a>
								{% elif user.is_authenticated and not user.is_mentor %}
									<a class="dropdown-item" href="{% url 'mentor:register' %}">Daftar Mentor</a>
								{% endif %}
							</div>
						</li>
			
						{% if user.is_authenticated and user.is_staff %}
						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle" href="#" id="dropdowntutor" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Management</a>
							<div class="dropdown-menu" aria-labelledby="dropdowntutor">
								<a class="dropdown-item" href="{% url 'management:dashboard' %}">Management Dashboard</a>
								<a class="dropdown-item" href="{% url 'management:courses' %}">Management Courses</a>
								<a class="dropdown-item" href="{% url 'management:mentor-management' %}">Management Mentor</a>
							</div>
						</li>
						{% endif %}
					{% else %}
					<li class="nav-item">
						<a class="btn btn-sm btn-primary btn-navbar" 		 href="{% url 'user:login' %}">Masuk</a>
					</li>
					<li class="nav-item">
						<a class="btn btn-sm btn-outline-primary btn-navbar" href="{% url 'user:register' %}"> Daftar </a>
					</li>
					{% endif %}
				</ul>
				
			</div>
			</div>
		</nav>
		
		<!-- MESSAGES -->
		{% if messages %}
		<ul class="messages">
			{% for message in messages %}
			<li {% if message.tags %} class="{{ message.tags }}"{% endif %}>
				{% if message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}Important: {% endif %}
				{{ message }}
			</li>
			{% endfor %}
		</ul>
		{% endif %}

		<!-- SEMENTARA -->
		<div style="margin-bottom: 140px;">

		</div>
		<!-- CONTENT -->
		<main class="bg-light pt-5">
			{% block body_block %}
			{% endblock %}
		</main>

		<!-- BASE JS -->
		{% include 'base_app_footer.html' %}

	</div>
	<!-- BASE JS -->
	{% include 'base_app_js.html' %}

	<!--CUSTOM JS -->
	{% block body_js %}
	{% endblock %}
</body>
</html>