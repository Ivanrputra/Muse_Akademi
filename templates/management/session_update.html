{% extends 'classroom/base_app.html' %}
{% load widget_tweaks %}
{% block body_css %}
{{ form.media.css }}
<link href="//cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.1.2/css/tempusdominus-bootstrap-4.min.css"
	type="text/css" media="all" rel="stylesheet">
{% endblock %}

{% block classroom_menu %}
    {% include 'ext/classroom_menu.html' with course=course %}
{% endblock %}

{% block body_block %}

<div class="container-fluid pb-5">
	<div class="row pt-3">
		<div class="col-12 col-lg-11 mb-3">
			<h5>Edit Sesi</h5>
		</div>
	</div>

	<div class="row">
		<div class="col-12 col-lg-11 mb-3">
			<div class="card">
				<div class="card-header">Form Edit Sesi</div>
				<div class="card-body">
					<form method="POST" enctype="multipart/form-data">

						{% csrf_token %}
						<div class="row">
                            <div class="col-12 form-group">
                                <label for="session-name">Nama Sesi</label>
                                {% render_field form.title class+='form-control' %}
                            </div>
                            <div class="col-12 form-group">
                                <label for="session-mentor">Mentor</label>
                                {% render_field form.mentor class+='form-control' %}
                            </div>
                            <div class="col-12 form-group">
                                <label for="session-description">Deskripsi</label>
                                {% render_field form.description class+='form-control' %}
                            </div>
                            <div class="col-12 form-group">
                                <label for="session-date">Tanggal</label>
                                {% render_field form.start_at class+='form-control' %}
                                {% if form.start_at.errors %}
                                    <div class="card callout-error mt-3">
                                        {{form.start_at.errors}}
                                    </div>
                                {% endif %}
                            </div>

                            <div class="col-12">
                                <button class="submit" class="btn btn-primary">Tambah Sesi</button>
                                <a href="{% url 'management:classroom' course.id %}" class="btn btn-danger ml-2">Kembali</button>
                            </div>
                        </div>


					</form>
				</div>
			</div>
		</div>
	</div>

	<div class="row">
		<div class="col-12 col-lg-11 mb-3">
			<div class="card">
				<div class="card-header">Session Data</div>
				<div class="card-body">
					<ul class="list-group list-group-flush mb-3">
						{% for session_data in session.session_datas %}
						<li class="list-group-item d-flex justify-content-between align-items-center">
							<span>
								{{forloop.counter}}. {{session_data.title}}
							</span>
							<form id='DeleteSessionData{{session_data.id}}' method="post"
								action="{% url 'management:sessiondata-delete' session_data.id %}">
								{% csrf_token %}
								<a href="javascript:void(0)"
									onclick="document.getElementById('DeleteSessionData{{session_data.id}}').submit();">
									<i class="las la-trash"></i>
								</a>
							</form>
						</li>
						{% endfor %}
					</ul>
					<form method="post" action="{% url 'management:sessiondata' session.id %}"
						enctype="multipart/form-data">
						{% csrf_token %}
						{{form_sessiondata.as_p}}
						<div class="form-group mt-4">
							<button type="submit" class="btn btn-primary">Tambah Data</button>
							<a href="javascript:void(0)" onclick="window.history.back();" class="btn btn-danger ml-2">Kembali</a>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
</div>
{% endblock %}

{% block body_js %}
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>
<script type="text/javascript"
	src="//cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.1.2/js/tempusdominus-bootstrap-4.min.js"></script>
<link href="//cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.1.2/css/tempusdominus-bootstrap-4.min.css"
	type="text/css" media="all" rel="stylesheet">
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
{{ form.media.js }}
{% endblock %}