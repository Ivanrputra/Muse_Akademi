
{% extends 'base_app.html' %}
{% block body_block %}
{% load widget_tweaks %}
{% load custom_filter %}

<div class="container py-lg-5 pb-5">
  <div class="row pt-3">
    <div class="col-12 col-lg-3">

      <!-- EXTERNAL -->
      <div class="side-menu">
        <div class="side-menu-top">
          <img src="{{ user.profile_pic|profile_pic  }}" alt="">
          <span class="mt-3">{{ user.firstname }} {{ user.lastname }}</span>
          <span class="text-muted small">{{ user.username }}</span>
        </div>
        <div class="mt-4">
          <a 
            href="{% url 'user:profile_pic' %}" 
            class="sidebar-link {% if request.resolver_match.view_name == 'user:profile_pic' %}active{% endif %}">
            <i class="las la-camera"></i>
            <span>Foto Profil</span>
          </a>
          <a 
            href="{% url 'user:profile' %}" 
            class="sidebar-link {% if request.resolver_match.view_name == 'user:profile' %}active{% endif %}">
            <i class="las la-user"></i>
            <span>Informasi Umum</span>
          </a>
          <a 
            href="{% url 'user:password_change' %}" 
            class="sidebar-link {% if request.resolver_match.view_name == 'user:password_change' %}active{% endif %}">
            <i class="las la-unlock"></i>
            <span>Ganti Kata Sandi</span>
          </a>
          <a 
            href="{% url 'app:order' %}" 
            class="sidebar-link {% if request.resolver_match.view_name == 'app:order' %}active{% endif %}">
            <i class="las la-clipboard-list"></i>
            <span>Riwayat Transaksi</span>
          </a>
        </div>
      </div>
      <!-- /EXTERNAL -->

    </div>
    <div class="col-12 col-lg-9">
      <h5>Informasi Umum</h5>
      <p class="small text-muted">
        Halaman ini memuat tentang informasi pribadi Anda
      </p>

      <form method="post" action="" enctype="multipart/form-data">
        {% csrf_token %}
          <div class="row">
            <div class="col-12 col-lg-6 form-group">
                {{ form.firstname.label_tag }}
                {{ form.firstname }}
                {{ form.firstname.errors }}
            </div>
            <div class="col-12 col-lg-6 form-group">
                {{ form.lastname.label_tag }}
                {{ form.lastname }}
                {{ form.lastname.errors }}
            </div>
            <div class="col-12 form-group">
                {{ form.username.label_tag }}
                {{ form.username }}
                {{ form.username.errors }}
            </div>
            <div class="col-12 form-group">
                {{ form.phone.label_tag }}
                {{ form.phone }}
                {{ form.phone.errors }}
            </div>
            <div class="col-12 form-group">
                {{ form.address.label_tag }}
                {{ form.address }}
                {{ form.address.errors }}
            </div>
            <div class="col-12">
              <button type="submit" name='action' class="btn btn-primary btn-block">Simpan Perubahan</button>
            </div>
          </div>
        </form>
    </div>
  </div>
  
</div>

{% endblock %}